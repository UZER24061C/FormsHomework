
&НаКлиенте
Процедура ПроектыБезРуководителя(Команда)	
	ПроектыБезРуководителяНаСервере();		  
КонецПроцедуры

 &НаСервере
Процедура ПроектыБезРуководителяНаСервере()

	Отбор = Список.КомпоновщикНастроек.Настройки.Отбор;
	ОтборПоРуководителю = Неопределено;
	ПолеРук = Новый ПолеКомпоновкиДанных("Руководитель");
	Для Каждого ЭлементОтбора Из Отбор.Элементы Цикл
		Если ТипЗнч(ЭлементОтбора) = Тип("ЭлементОтбораКомпоновкиДанных") и ЭлементОтбора.ЛевоеЗначение = ПолеРук Тогда
			
			ОтборПоРуководителю = ЭлементОтбора;
			
			Прервать;
		КонецЕсли;
	КонецЦикла;			
	
	ОтборПоРуководителю.ПравоеЗначение = ПредопределенноеЗначение("Справочник.ФизическиеЛица.ПустаяСсылка");
	ОтборПоРуководителю.Использование = Не ОтборПоРуководителю.Использование;
	Элементы.ФормаПроектыБезРуководителя.Пометка = ОтборПоРуководителю.Использование;
КонецПроцедуры

&НаСервере
Процедура ПередЗагрузкойПользовательскихНастроекНаСервере()
	
    Отбор = Список.КомпоновщикНастроек.Настройки.Отбор;
    ОтборПоОрганизации = Неопределено;
	ПолеОрг = Новый ПолеКомпоновкиДанных("Организация"); 
	Для Каждого ЭлементОтбора Из Отбор.Элементы Цикл
		Если ТипЗнч(ЭлементОтбора) = Тип("ЭлементОтбораКомпоновкиДанных") и ЭлементОтбора.ЛевоеЗначение = ПолеОрг Тогда
			
			ОтборПоОрганизации = ЭлементОтбора;
			
			Прервать;
		КонецЕсли;
	КонецЦикла;	
    ОтборПоОрганизации.Использование = Ложь;
	ОтборПоОрганизации.ПравоеЗначение = Константы.ОсновнаяОрганизация.Получить();

	
КонецПроцедуры

// ■ □