
&НаКлиенте
Процедура ПроектыБезРуководителя(Команда)	
	ПроектыБезРуководителяНаСервере();		  
КонецПроцедуры

 &НаСервере
Процедура ПроектыБезРуководителяНаСервере()

НовЭлементОтбора = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));

НовЭлементОтбора.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Руководитель");

НовЭлементОтбора.ВидСравнения = ВидСравненияКомпоновкиДанных.Равно;

НовЭлементОтбора.Использование = НЕ Элементы.ФормаПроектыБезРуководителя.Пометка;

НовЭлементОтбора.ПравоеЗначение = ПредопределенноеЗначение("Справочник.ФизическиеЛица.ПустаяСсылка");

Элементы.ФормаПроектыБезРуководителя.Пометка = НовЭлементОтбора.Использование;

//	Отбор = Список.КомпоновщикНастроек.Настройки.Отбор;
//	ОтборПоРуководителю = Неопределено;
//	ПолеРук = Новый ПолеКомпоновкиДанных("Руководитель");
//	Для Каждого ЭлементОтбора Из Отбор.Элементы Цикл
//		Если ТипЗнч(ЭлементОтбора) = Тип("ЭлементОтбораКомпоновкиДанных") 
//			и ЭлементОтбора.ЛевоеЗначение = ПолеРук Тогда
//			
//			ОтборПоРуководителю = ЭлементОтбора;
//			Прервать;
//		КонецЕсли;
//	КонецЦикла;			
//	
//	ОтборПоРуководителю.ПравоеЗначение = ПредопределенноеЗначение("Справочник.ФизическиеЛица.ПустаяСсылка");
//	ОтборПоРуководителю.Использование = Не ОтборПоРуководителю.Использование;
//	Элементы.ФормаПроектыБезРуководителя.Пометка = ОтборПоРуководителю.Использование;
КонецПроцедуры

&НаСервере
Процедура ПередЗагрузкойПользовательскихНастроекНаСервере()
	
    Отбор = Список.КомпоновщикНастроек.Настройки.Отбор;
	ПолеОрг = Новый ПолеКомпоновкиДанных("Организация"); 
	Для Каждого ЭлементОтбора Из Отбор.Элементы Цикл
		Если ТипЗнч(ЭлементОтбора) = Тип("ЭлементОтбораКомпоновкиДанных")
			и ЭлементОтбора.ЛевоеЗначение = ПолеОрг Тогда
			
			ОтборПоОрг = ЭлементОтбора;
			Прервать;
		КонецЕсли;
	КонецЦикла;	
    ОтборПоОрг.Использование = Ложь;
	ОтборПоОрг.ПравоеЗначение = Константы.ОсновнаяОрганизация.Получить();

	
КонецПроцедуры

// ■ □